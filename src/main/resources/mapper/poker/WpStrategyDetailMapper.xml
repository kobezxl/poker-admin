<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cn.poker.admin.modules.poker.dao.WpStrategyDetailMapper">
	
	<select id="listForPage" resultType="com.cn.poker.admin.modules.poker.entity.WpStrategyDetailEntity">
		SELECT
			`id`, 
			`user_id`, 
			`start_date`, 
			`end_date`, 
			`pool_type`, 
			`type`, 
			`gold`, 
			`type_date`, 
			`create_date`, 
			`strategy_id`, 
			`day_count`
		FROM
			wp_strategy_detail
		ORDER BY
			id DESC
	</select>
	
	<insert id="save">
		INSERT INTO wp_strategy_detail (
			`user_id`, 
			`start_date`, 
			`end_date`, 
			`pool_type`, 
			`type`, 
			`gold`, 
			`type_date`, 
			`create_date`, 
			`strategy_id`, 
			`day_count`
		)
		VALUES (
			#{userId}, 
			#{startDate}, 
			#{endDate}, 
			#{poolType}, 
			#{type}, 
			#{gold}, 
			#{typeDate}, 
			#{createDate}, 
			#{strategyId}, 
			#{dayCount}
		)
	</insert>
	
	<select id="getObjectById" resultType="com.cn.poker.admin.modules.poker.entity.WpStrategyDetailEntity">
		SELECT
			`id`, 
			`user_id`, 
			`start_date`, 
			`end_date`, 
			`pool_type`, 
			`type`, 
			`gold`, 
			`type_date`, 
			`create_date`, 
			`strategy_id`, 
			`day_count`
		FROM
			wp_strategy_detail
		WHERE
			id = #{id}
	</select>
	
	<update id="update">
		UPDATE wp_strategy_detail
	 	<set>
			<if test="userId != null">`user_id` = #{userId}, </if>
			<if test="startDate != null">`start_date` = #{startDate}, </if>
			<if test="endDate != null">`end_date` = #{endDate}, </if>
			<if test="poolType != null">`pool_type` = #{poolType}, </if>
			<if test="type != null">`type` = #{type}, </if>
			<if test="gold != null">`gold` = #{gold}, </if>
			<if test="typeDate != null">`type_date` = #{typeDate}, </if>
			<if test="createDate != null">`create_date` = #{createDate}, </if>
			<if test="strategyId != null">`strategy_id` = #{strategyId}, </if>
			<if test="dayCount != null">`day_count` = #{dayCount}</if>
		</set>
		WHERE
			id = #{id}
	</update>
	
	<delete id="batchRemove">
		DELETE
		FROM
			wp_strategy_detail
		WHERE
			id IN
		<foreach item="id" collection="array" open="(" separator="," close=")">
			#{id}
		</foreach>
	</delete>

</mapper>